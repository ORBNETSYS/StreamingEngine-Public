# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),

# Streaming Engine Service .NET Core

## [2.9.98] 

## [2.9.97] 

### Added
* Enforced **automatic redirection** of unauthorized users to the login page for all protected routes.
* Added support for **refresh tokens** to extend JWT-based authentication sessions securely.
* Added **Custom Inbound Streams** on route `/customstreams` on web application.
* Added **Saved Transcoding Profiles** on route `/transcoding-profiles` on web application.
* Added **HLS Web Streaming** on route `/webstreaminghls` on web application.
* Added **ONVIF Devices** on route `/onvif-devices` on web application.
* Added **Milestone Cameras** on route `/milestonecams` on web application.

## [2.9.96] - 24.06.2025

### Added
* **Inbound Stream Management** page available at route `/inbound`, including:
  * Display of active RTMP, RTMPS, and SRT ingest URLs of preconfigured inputs, with copy-to-clipboard functionality.
  * **SRT Input Manager** for configuring and managing inbound SRT inputs:
    * Allows users to **add**, **edit**, **start**, **stop**, and **remove** SRT Input servers.
    * Supports configuration of the following options:
      - **Publishing Point Name** and **UDP Port** for stream identification and network binding.
      - **Connection Mode** selection: **Caller** or **Listener**.
      - **Optional encryption**: AES-128, AES-192, or AES-256 enabled by providing a passphrase.
      - **Remote Address** and **Remote UDP Port** for Caller connections.
      - **Latency configuration** in milliseconds for buffering optimization.
      - Real-time status display: **Offline**, **Ready**, or **Streaming**.
    * The form dynamically adapts to the selected connection mode and performs validation to prevent duplicate names or conflicting ports.
  * **SRT Input Manager** for configuring Inbound SRT Inputs:
    * Add, edit, start, stop, and remove SRT input servers.
    * Supports Caller and Listener connection modes, AES-128/192/256 encryption or none, passphrase protection, and latency configuration.
    * Adaptive UI form fields respond to selected connection mode by dynamically adding or removing input fields.
    * Validates all input data before saving, including checks for naming conflicts and port duplication, and displays a warning to the user.
    * Displays real-time connection status: **Offline**, **Ready**, or **Streaming**.
  * **Published Inbound Streams list**:
    * Displays Stream Key (RTMP) / Publishing Point Name (SRT), Protocol (RTMP/SRT), and number of connected clients.
    * Allows users to view output endpoints and live stream preview via an integrated video player.
* Added documentation for APIs from Swagger.
* Added in webpages built-in **Video Player** to preview the live feed.
* Added **Timelapse** on route `/timelapse` on web application.


# Streaming Engine Load Balancer

## [2.9.98] 

### Changed
* Added dedicated **SQLite** Database

## [2.9.97]

### Added
* RTMP Camera Stream Controls on route '/rtmp' on web application.

## [2.9.96] - 24.06.2025

### Added
* Integrated **SQLite** database to store user data.
* Implemented **RESTful APIs** with **JWT-based authentication** using **asymmetric keys**.
  Tokens are stored in **session-based cookies** for secure communication with the Streaming Engine Service .NET Core.
* Added support for a **self-signed certificate**, which is **automatically generated during setup installation** if the `CertificateThumbprint` field in `ORBStreamingEngineConfig.xml` is empty.

  **Important Note for Windows Users:**
  If we're using the autogenerated certificate, manual permission setup is required to allow the .NET Core Streaming Engine service to access the private key for HTTPS communication:
  1. Open **Control Panel** → **Manage Computer Certificates**.
  2. Go to **Personal** → **Certificates**.
  3. Find `Self-Signed Streaming Engine NetCore Certificate` under **Friendly Name**.
  4. Right-click → **All Tasks** → **Manage Private Keys**.
  6. Click **Add**, type `"network service"` → **Check Names** (should resolve to `NETWORK SERVICE`) → **OK** → **Apply**.

* Added **login page** page available at route `/login` using JWT and session cookies for user authentication.
* Enforced **automatic redirection** of unauthorized users to the login page for all protected routes
* Added support for **remote outbound stream control** (load/start/stop) for Streaming Engine nodes
  
### Changed
* Switched internal HTTP server to **HTTPS**, using **TLS** for secure communication.
* Changed **default port** from `45337` (HTTP) to `45338` (HTTPS) for web interface.

### Fixed
* RTSPS redirection to Streaming Engine


# [2.9.3] - 13.03.2022

- Added: HLS Streaming Capability
- Added: Service Recovery Options to restart the service on first, second and subsequent failures.
- Added: Auto Stream transcoding for HLS
- Changed: Switched to FFMPEG for RTMP and HLS Streaming


# [2.9.2] - 06.03.2022

- Added: Timelapse monitoring in case of broken frame grabbers
- Changed: License, Config files and Service logs are now located in ProgramData instead of AppData
- Changed: Installing Milestone plugins will copy files to Management Client and Event Server MIP Plugins folder
- Changed: Log level must be set to Debug to view timelapse saving logs
- Fix: Changing account login of the Streaming Engine Service will not break anything.
- Fix: Installing Streaming Engine Service to other driver than C:\ drive is now supported
- Fix: License Unique ID will be set as soon as first connection to Milestone is established.

